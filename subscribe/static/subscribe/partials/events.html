<div class="alert alert-danger" ng-show="alert">
    <button class="close" ng-click="closeAlert()" aria-hidden="true" data-dismiss="alert" type="button">Ã—</button>
    <strong>{{alert.title}}</strong><br>
    {{alert.message}}
</div>
<table id="events" ng-table="tableParams" class="table table-striped table-bordered" cellspacing="0" width="100%">
    <tbody>
        <tr ng-repeat="event in $data">
            <td data-title="'Name'" sortable="'name'">{{event.name}}</td>
            <td data-title="'Description'" sortable="'description'">{{event.description}}</td>
            <td data-title="'Chief seats'" sortable="'seats_n_chiefs'">{{event.seats_n_chiefs}}/{{event.max_chiefs_seats}}</td>
            <td data-title="'Boys seats'" sortable="'seats_n_boys'">{{event.seats_n_boys}}/{{event.max_boys_seats}}</td>
            <td data-title="'Kind'" sortable="'kind'">{{event.kind}}</td>
            <td style="white-space: nowrap;">
                <span data-toggle="modal" data-target="#event-details" ng-click="selectEvent(event);
                                        " class="btn btn-xs btn-default">Details</span>
                <span class="btn btn-xs btn-success" ng-show="!subscribedEvent(event)" ng-click="subscribe(event)">Subscribe</span>
                <span class="btn btn-xs btn-danger" ng-show="subscribedEvent(event)" ng-click="unsubscribe(event)">Unsubscribe</span>
            </td>
        </tr>
    </tbody>
</table>
<div class="modal fade" id="event-details" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">{{selectedEvent.name}}</h4>
            </div>
            <div class="modal-body">
                <div class="well">
                    <p ng-repeat="(k,v) in selectedEvent">{{k}}: {{v}}</p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

